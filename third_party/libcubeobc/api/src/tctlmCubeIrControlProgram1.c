/************************************************************************************
 * This file was auto-generated by CIDEA                           .                *
 * Please do not modify the contents of this file manually.                         *
 ***********************************************************************************/

#include <cubeObc/cubeObc_typeDef.h>
#include <cubeObc/cubeObc_errorDef.h>
#include <cubeObc/cubeObc_tctlmCommsMasterSvc.h>
#include "tctlmCubeIrControlProgram1.h"

/*******************************************************************************
 ***************************  GLOBAL MACROS   **********************************
 ******************************************************************************/

/*******************************************************************************
 **************************   GLOBAL FUNCTIONS   *******************************
 ******************************************************************************/

 /* SET functions */

ErrorCode tctlmCubeIrControlProgram1_setRequestDeadPixel(TypeDef_TctlmEndpoint *endpoint, U8 setVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 62;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 1)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&buffer[0], &setVal, sizeof(U8));
        /*************************/
        bufferSizeUsed = 1;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_setImageTransferSetup(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_ImageTransferSetup *setVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 63;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 2)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare0 = ((setVal->dataSelect & 0xFF) << 0);
        MEMCPY(&buffer[0], &prepare0, sizeof(U8));
        /*************************/
        U8 prepare1 = ((setVal->direction & 0xFF) << 0);
        MEMCPY(&buffer[1], &prepare1, sizeof(U8));
        /*************************/
        bufferSizeUsed = 2;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_setConfiguration(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_Configuration *setVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 64;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 87)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare0 = ((setVal->calibrateImageFull & 0x01) << 0)
                    | ((setVal->useCalibrationRig & 0x01) << 1);
        MEMCPY(&buffer[0], &prepare0, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[1], &setVal->circularMaskRadius, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[2], &setVal->minimumTempDiff, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[4], &setVal->expectedEarthRadius, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[8], &setVal->allowedRadiusDeviation, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[12], &setVal->maxSpaceTemp, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[14], &setVal->maxEarthTempOffset, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[16], &setVal->minSpaceTempOffset, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[18], &setVal->maxEarthTempThresholdOffset, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[20], &setVal->horizonCrossOverOffset, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[21], &setVal->gradientOutlierThreshold, sizeof(S32));
        /*************************/
        MEMCPY(&buffer[25], &setVal->validBinPeak, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[27], &setVal->binWidth, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[29], &setVal->minimumGradient, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[31], &setVal->minimumEdgePointsRequired, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[32], &setVal->circRadiusMin, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[34], &setVal->circRadiusMax, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[36], &setVal->horElevBias, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[40], &setVal->outlierRejMaxSeg, sizeof(U16));
        /*************************/
        MEMCPY(&buffer[42], &setVal->outlierRejTol, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[43], &setVal->boresightX, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[47], &setVal->boresightY, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[51], &setVal->focalLength, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[55], &setVal->distK1, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[59], &setVal->distK2, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[63], &setVal->distK3, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[67], &setVal->distK4, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[71], &setVal->distK5, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[75], &setVal->distK6, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[79], &setVal->distP1, sizeof(F32));
        /*************************/
        MEMCPY(&buffer[83], &setVal->distP2, sizeof(F32));
        /*************************/
        bufferSizeUsed = 87;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_setDeadPixels(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_DeadPixels *setVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 65;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 4)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&buffer[0], &setVal->deadPixelIndex, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[1], &setVal->pixelX, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[2], &setVal->pixelY, sizeof(U8));
        /*************************/
        MEMCPY(&buffer[3], &setVal->pixelMask, sizeof(U8));
        /*************************/
        bufferSizeUsed = 4;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    return result;
}


 /* GET functions */

ErrorCode tctlmCubeIrControlProgram1_getRequestedDeadPixel(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_RequestedDeadPixel *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 187;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 4)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 4)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->deadPixelIndex, &buffer[0], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->pixelX, &buffer[1], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->pixelY, &buffer[2], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->pixelMask, &buffer[3], sizeof(U8));
    }
    /*************************/

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_getHealthTlm(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_HealthTlm *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 190;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 15)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 15)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        S16 prepare0;
        MEMCPY(&prepare0, &buffer[0], sizeof(S16));
        if ((prepare0 < -100) || (prepare0 > 200))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->mcuTemp = prepare0;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare1;
        MEMCPY(&prepare1, &buffer[2], sizeof(U16));
        if (prepare1 > 5000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->detectorTemp = prepare1;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare2;
        MEMCPY(&prepare2, &buffer[4], sizeof(U16));
        if (prepare2 > 1000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->mcuCurrent = prepare2;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare3;
        MEMCPY(&prepare3, &buffer[6], sizeof(U16));
        if (prepare3 > 1000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->detectorCurrent = prepare3;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare4;
        MEMCPY(&prepare4, &buffer[8], sizeof(U16));
        if (prepare4 > 5000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->mcuVoltage = prepare4;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(returnVal->watchdogCount, &buffer[10], 5);
    }
    /*************************/

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_getMeasurementAndTrigger(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_MeasurementAndTrigger *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 192;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 6)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 6)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        S16 prepare0;
        F64 calibrate0;
        MEMCPY(&prepare0, &buffer[0], sizeof(S16));
        if ((prepare0 < -9000) || (prepare0 > 9000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        calibrate0 = ((F64)prepare0*0.01f);
        returnVal->elevation = calibrate0;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        S16 prepare1;
        F64 calibrate1;
        MEMCPY(&prepare1, &buffer[2], sizeof(S16));
        if ((prepare1 < -18000) || (prepare1 > 18000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        calibrate1 = ((F64)prepare1*0.01f);
        returnVal->rotation = calibrate1;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare2;
        MEMCPY(&prepare2, &buffer[4], sizeof(U8));
        returnVal->captureResult = (TctlmCubeIrControlProgram1_CaptureResult)((prepare2 >> 0) & 0xFF);
        if ((U8)returnVal->captureResult > 4)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare3;
        MEMCPY(&prepare3, &buffer[5], sizeof(U8));
        returnVal->detectionResult = (TctlmCubeIrControlProgram1_DetectResult)((prepare3 >> 0) & 0xFF);
        if ((U8)returnVal->detectionResult > 5)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
    }
    /*************************/

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_getMeasurement(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_Measurement *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 193;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 6)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 6)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        S16 prepare0;
        F64 calibrate0;
        MEMCPY(&prepare0, &buffer[0], sizeof(S16));
        if ((prepare0 < -9000) || (prepare0 > 9000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        calibrate0 = ((F64)prepare0*0.01f);
        returnVal->elevation = calibrate0;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        S16 prepare1;
        F64 calibrate1;
        MEMCPY(&prepare1, &buffer[2], sizeof(S16));
        if ((prepare1 < -18000) || (prepare1 > 18000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        calibrate1 = ((F64)prepare1*0.01f);
        returnVal->rotation = calibrate1;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare2;
        MEMCPY(&prepare2, &buffer[4], sizeof(U8));
        returnVal->captureResult = (TctlmCubeIrControlProgram1_CaptureResult)((prepare2 >> 0) & 0xFF);
        if ((U8)returnVal->captureResult > 4)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare3;
        MEMCPY(&prepare3, &buffer[5], sizeof(U8));
        returnVal->detectionResult = (TctlmCubeIrControlProgram1_DetectResult)((prepare3 >> 0) & 0xFF);
        if ((U8)returnVal->detectionResult > 5)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
    }
    /*************************/

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_getMeasurementMetadata(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_MeasurementMetadata *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 194;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 26)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 26)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->minPix, &buffer[0], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->maxPix, &buffer[2], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->avgPix, &buffer[4], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->numEdgesRaw, &buffer[6], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->numEdgesCalib, &buffer[8], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->numWarmPix, &buffer[10], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->numColdPix, &buffer[12], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare7;
        MEMCPY(&prepare7, &buffer[14], sizeof(F32));
        if ((prepare7 < -100000) || (prepare7 > 100000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->circleCenterX = prepare7;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare8;
        MEMCPY(&prepare8, &buffer[18], sizeof(F32));
        if ((prepare8 < -100000) || (prepare8 > 100000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->circleCenterY = prepare8;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare9;
        MEMCPY(&prepare9, &buffer[22], sizeof(F32));
        if ((prepare9 < 0) || (prepare9 > 100000))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->circleRadius = prepare9;
    }
    /*************************/

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_getConfiguration(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_Configuration *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 195;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 87)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 87)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare0;
        MEMCPY(&prepare0, &buffer[0], sizeof(U8));
        returnVal->calibrateImageFull = (Boolean)((prepare0 >> 0) & 0x01);
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U8 prepare1;
        MEMCPY(&prepare1, &buffer[0], sizeof(U8));
        returnVal->useCalibrationRig = (Boolean)((prepare1 >> 1) & 0x01);
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->circularMaskRadius, &buffer[1], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->minimumTempDiff, &buffer[2], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare5;
        MEMCPY(&prepare5, &buffer[4], sizeof(F32));
        if ((prepare5 < 0) || (prepare5 > 300))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->expectedEarthRadius = prepare5;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare6;
        MEMCPY(&prepare6, &buffer[8], sizeof(F32));
        if ((prepare6 < 0) || (prepare6 > 50))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->allowedRadiusDeviation = prepare6;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->maxSpaceTemp, &buffer[12], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->maxEarthTempOffset, &buffer[14], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->minSpaceTempOffset, &buffer[16], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->maxEarthTempThresholdOffset, &buffer[18], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->horizonCrossOverOffset, &buffer[20], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->gradientOutlierThreshold, &buffer[21], sizeof(S32));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->validBinPeak, &buffer[25], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->binWidth, &buffer[27], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->minimumGradient, &buffer[29], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->minimumEdgePointsRequired, &buffer[31], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->circRadiusMin, &buffer[32], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->circRadiusMax, &buffer[34], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->horElevBias, &buffer[36], sizeof(F32));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->outlierRejMaxSeg, &buffer[40], sizeof(U16));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        MEMCPY(&returnVal->outlierRejTol, &buffer[42], sizeof(U8));
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare22;
        MEMCPY(&prepare22, &buffer[43], sizeof(F32));
        if ((prepare22 < 0) || (prepare22 > 80))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->boresightX = prepare22;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare23;
        MEMCPY(&prepare23, &buffer[47], sizeof(F32));
        if ((prepare23 < 0) || (prepare23 > 64))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->boresightY = prepare23;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare24;
        MEMCPY(&prepare24, &buffer[51], sizeof(F32));
        if ((prepare24 < 0) || (prepare24 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->focalLength = prepare24;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare25;
        MEMCPY(&prepare25, &buffer[55], sizeof(F32));
        if ((prepare25 < -100) || (prepare25 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distK1 = prepare25;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare26;
        MEMCPY(&prepare26, &buffer[59], sizeof(F32));
        if ((prepare26 < -100) || (prepare26 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distK2 = prepare26;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare27;
        MEMCPY(&prepare27, &buffer[63], sizeof(F32));
        if ((prepare27 < -100) || (prepare27 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distK3 = prepare27;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare28;
        MEMCPY(&prepare28, &buffer[67], sizeof(F32));
        if ((prepare28 < -100) || (prepare28 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distK4 = prepare28;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare29;
        MEMCPY(&prepare29, &buffer[71], sizeof(F32));
        if ((prepare29 < -100) || (prepare29 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distK5 = prepare29;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare30;
        MEMCPY(&prepare30, &buffer[75], sizeof(F32));
        if ((prepare30 < -100) || (prepare30 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distK6 = prepare30;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare31;
        MEMCPY(&prepare31, &buffer[79], sizeof(F32));
        if ((prepare31 < -100) || (prepare31 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distP1 = prepare31;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        F32 prepare32;
        MEMCPY(&prepare32, &buffer[83], sizeof(F32));
        if ((prepare32 < -100) || (prepare32 > 100))
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->distP2 = prepare32;
    }
    /*************************/

    return result;
}

ErrorCode tctlmCubeIrControlProgram1_getProfileTiming(TypeDef_TctlmEndpoint *endpoint, TctlmCubeIrControlProgram1_ProfileTiming *returnVal)
{
    ErrorCode result = CUBEOBC_ERROR_OK;
    TctlmCommsMasterSvc_Endpoint target;
    U8 *buffer;
    U32 bufferSize;
    U32 bufferSizeUsed;

    ZERO_VAR(target);

    target.id = 197;
    MEMCPY((U8 *)&target.endpoint, (U8 *)endpoint, sizeof(TypeDef_TctlmEndpoint));

    buffer = cubeObc_tctlmCommsMasterSvc_buffer(&target);
    bufferSize = cubeObc_tctlmCommsMasterSvc_bufferSize(&target);

    if (bufferSize < 6)
    {
        result = CUBEOBC_ERROR_SIZEL;
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        bufferSizeUsed = 0;
        result = cubeObc_tctlmCommsMasterSvc_sendReceive(&target, &bufferSizeUsed);
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        if (bufferSizeUsed != 6)
        {
            result = CUBEOBC_ERROR_TLM_SIZE;
        }
    }

    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare0;
        MEMCPY(&prepare0, &buffer[0], sizeof(U16));
        if (prepare0 > 2000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->timeCapture = prepare0;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare1;
        MEMCPY(&prepare1, &buffer[2], sizeof(U16));
        if (prepare1 > 2000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->timeCalibrate = prepare1;
    }
    /*************************/
    if (result == CUBEOBC_ERROR_OK)
    {
        U16 prepare2;
        MEMCPY(&prepare2, &buffer[4], sizeof(U16));
        if (prepare2 > 2000)
        {
            result = CUBEOBC_ERROR_PARAM;
        }
        returnVal->timeDetect = prepare2;
    }
    /*************************/

    return result;
}

